{% extends "adminpage.html" %}
{% block content %}
<style>
    .bloc_left_price {
        color: #c01508;
        text-align: center;
        font-weight: bold;
        font-size: 150%;
    }

    .category_block li:hover {
        background-color: #007bff;
    }

    .category_block li:hover a {
        color: #ffffff;
    }

    .category_block li a {
        color: #343a40;
    }

    .add_to_cart_block .price {
        color: #c01508;
        text-align: center;
        font-weight: bold;
        font-size: 200%;
        margin-bottom: 0;
    }

    .add_to_cart_block .price_discounted {
        color: #343a40;
        text-align: center;
        text-decoration: line-through;
        font-size: 140%;
    }

    .product_rassurance {
        padding: 10px;
        margin-top: 15px;
        background: #ffffff;
        border: 1px solid #6c757d;
        color: #6c757d;
    }

    .product_rassurance .list-inline {
        margin-bottom: 0;
        text-transform: uppercase;
        text-align: center;
    }

    .product_rassurance .list-inline li:hover {
        color: #343a40;
    }

    .reviews_product .fa-star {
        color: gold;
    }

    .pagination {
        margin-top: 20px;
    }

    footer {
        background: #343a40;
        padding: 40px;
    }

    footer a {
        color: #f8f9fa !important
    }
</style>

<section class="jumbotron text-center" style="max-width:80vmax;margin-left: 8rem;font-size: 20px;" >
    <div class="container">
        <h1 class="jumbotron-heading">Orders</h1>
        <div class="container mb-4">
            <div class="row">
        
                <div class="jumbotron col-9" >
                    <div class="table-responsive">
        
                        <table class="table table-striped" class="table table-striped table-dark">
                            <thead>
                                <tr>
                                    <th scope="col"> transcation Id</th>
                                    <!-- <th scope="col"> Customer</th> -->
                                    <th scope="col"style="text-align: right;"><h>Total</h></th>
                                    <th scope="col"style="text-align: right;"><h>Order Status</h></th>
                                    <th scope="col"style="text-align: right;"><h>Payment Status</h></th>
                                    <th scope="col"style="text-align: right;"><h>Delivery Status</h></th>
                                    <th scope="col"style="text-align: right;"><h>Accept</h></th>
                                    <th scope="col"style="text-align: right;"><h>Reject</h></th>
                                </tr>
                                
                            </thead>    
                                            {% for order,orderitem in dict.items %}
                                                
                                            <tr>
                                                <td scope="col"><h>{{order.id}}</h></td>
                                                <!-- <td scope="col"><h>{{order.user}}</h></td> -->
                                                <td scope="col" style="text-align: right;" ><h4>${{order.order_total_price}}</h4></td>
                                                <td scope="col"style="text-align: right;" ><h>{{order.get_order_status_display}}</h></td>
                                                <td scope="col"style="text-align: right;" ><h>{{order.get_payment_status_display}}</h></td>
                                                <td scope="col"style="text-align: right;" ><h>{{order.get_delivery_status_display}}</h></td> 
                                                <td><a href="/accept_order/{{order.id}}"><button class="btn btn-success btn-sm btn-block"
                                                    style="width: auto; margin-top: 1.5rem;">Accept</button></a></td>
                                        <td><a href="/reject_order/{{order.id}}"><button onclick="return confirm(' Are you sure to reject')"
                                                    class="btn btn-danger btn-sm btn-block" style="width: auto;margin-top: 1.5rem;">Reject</button></a></td>          
                                            </tr>
                                                    {% for item in orderitem %}
                                                    <tr>
                                                        <td scope="col">User:{{order.user}}</td>
                                                        <!-- <th><img src="{{ item.product.ImageURL}}"class="img-responsive" style="height: 7rem;" /> </td> -->
                                                        <td scope="col">Product : {{item.product.title}}</td>
                                                        <td scope="col" class="text-center">Quantity : {{item.quantity}}</td>
                                                        <td scope="col" class="text-right">Unit Price : ${{item.product.price}}</td>
                                                        <td scope="col" class="text-right">Item Total Price : ${{item.item_total_price}}</td>
                                                    </tr>
                                                    {% endfor %}
                                                    
                                            {% endfor %}
                                        </tbody>
                        </table>
                    </div>
                </div>
        
            </div>
        </div>
    </div>
</section>



{% endblock %}